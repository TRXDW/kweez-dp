(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(8),s=n.n(r),o=(n(15),n(16),n(1)),u=n(2),l=n(3),c=n(5),m=n(4),d=n(6),g=function(e){var t=e.quizzes,n=e.loggedUser,a=t.map(function(t){return i.a.createElement("button",{key:t.id,className:"quizzes__item quizzes__item--".concat(n.quizzesProgress[t.id-1].rarity),onClick:function(){return e.onClick(t.id)}},t.quizName)});return i.a.createElement("div",{className:"quizzes"},a)},h=function(e){var t=e.choosenQuiz,n=e.questionNum,a=e.didAnswer,r=e.sQuestion,s=e.selectedAnswer,o=e.userQuizData,u=t.questions.length,l=r.answers.map(function(t){return i.a.createElement("button",{key:t.answerId,className:a?"quiz__answer ".concat(r.correctAnswerIndex===t.answerId?"quiz__answer--goodAns":"".concat(s===t.answerId?"quiz__answer--badAns":"")):"quiz__answer quiz__answer--active",onClick:a?function(){return!1}:function(n){return e.onClickAnswer(n,t.answerId)}},"".concat(t.letter,") ").concat(t.text))});return i.a.createElement("div",{className:"quiz"},i.a.createElement("div",{className:"quiz__question quiz__question--".concat(o.rarity)},i.a.createElement("div",{className:"quiz__quizName quiz__quizName--".concat(o.rarity)},t.quizName),i.a.createElement("p",{className:"quiz__text"},r.question)),l,a?i.a.createElement("button",{onClick:e.onClickNext,className:"quiz__next"},n+1===u?"Podsumowanie":"Dalej"):i.a.createElement("div",null),i.a.createElement("div",{className:"quiz__numOfQuestion"},n+1,"/",u>9?10:u))},f=function(e){var t=e.promotionExist();return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",{className:"summaryHeader"},"Podsumowanie"),i.a.createElement("ul",{className:"summaryList"},i.a.createElement("li",{className:"summaryList__item"},"Dobre odp: ",i.a.createElement("span",{className:"summaryList__item summaryList__item--bold"},e.numOfGoodAnswer,"/",e.quizQuestionsLength)),i.a.createElement("li",{className:"summaryList__item"},"\u015arednia: ",i.a.createElement("span",{className:"summaryList__item summaryList__item--bold"},e.avarageGoodAnswer,"/",e.quizQuestionsLength)),i.a.createElement("li",{className:"summaryList__item"},"Rarity: ",i.a.createElement("span",{className:"summaryList__item summaryList__item--bold"},e.rarity))),t?i.a.createElement("div",{className:"summaryPromotion"},"!PROMOCJA TIERU!"):i.a.createElement("div",null),i.a.createElement("button",{className:"summaryButton",onClick:e.onClick},"ZAKO\u0143CZ"))},p=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={quizzes:[],choosenQuiz:null,questionNum:0,didAnswer:!1,sQuestions:[],sQuestion:[],selectedAnswer:null,userQuizData:null,numOfGoodAnswers:0,summaryExist:!1,avarageGoodAnswer:0},n.shuffle=function(e){for(var t,n=e.length,a=0;n--;)a=Math.floor(Math.random()*(n+1)),t=e[n],e[n]=e[a],e[a]=t;return e},n.handleChooseQuiz=function(e){var t=n.state.quizzes,a=n.props.loggedUser,i=t.filter(function(t){return t.id===e}),r=a.quizzesProgress.find(function(t){return t.quizId===e});n.setState(function(e){return{choosenQuiz:i[0],userQuizData:r}}),n.handleShuffleQuestion(i[0])},n.handleShuffleQuestion=function(e){var t=n.shuffle(Object(o.a)(e.questions));n.setState(function(e){return{sQuestions:Object(o.a)(t)}}),n.handleChooseQuestion(t)},n.handleChooseQuestion=function(e){n.setState(function(e){return{sQuestion:e.sQuestions[n.state.questionNum]}})},n.handleNextQuestion=function(){n.state.questionNum<n.state.choosenQuiz.questions.length-1?n.setState(function(e){return{questionNum:e.questionNum+1,sQuestion:e.sQuestions[e.questionNum+1],didAnswer:!e.didAnswer}}):n.state.summaryExist?n.setState(function(e){return{choosenQuiz:null,questionNum:0,didAnswer:!1,sQuestions:[],sQuestion:[],cAns:"",numOfGoodAnswers:0,avarageGoodAnswer:0,summaryExist:!e.summaryExist}}):(n.handleCountAvarageGoodAnswer(Object(o.a)(n.state.userQuizData.lastSolvesGoodAns)),n.setState(function(e){return{summaryExist:!e.summaryExist}}))},n.handleCountAvarageGoodAnswer=function(e){var t=e.reduce(function(e,t){return e+t});t/=10,n.setState(function(e){return{avarageGoodAnswer:t}})},n.handleChooseAnswer=function(e,t){n.state.sQuestion.correctAnswerIndex===t&&n.setState(function(e){return{numOfGoodAnswers:e.numOfGoodAnswers+1}}),n.setState(function(e){return{didAnswer:!e.didAnswer,selectedAnswer:t}})},n.rarityPromotion=function(){n.state.avarageGoodAnswer,n.state.userQuizData.rarity;return!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("data/quizzes.json").then(function(e){return e.json()}).then(function(t){return e.setState(function(e){return{quizzes:Object(o.a)(t)}})})}},{key:"render",value:function(){var e=this.state,t=e.quizzes,n=e.choosenQuiz,a=e.questionNum,r=e.didAnswer,s=e.sQuestion,o=e.selectedAnswer,u=e.userQuizData,l=e.numOfGoodAnswers,c=e.avarageGoodAnswer,m=this.props.loggedUser;return i.a.createElement("main",{className:"main"},n?this.state.summaryExist?i.a.createElement(f,{numOfGoodAnswer:l,rarity:u.rarity,quizQuestionsLength:n.questions.length,onClick:this.handleNextQuestion,avarageGoodAnswer:c,promotionExist:this.rarityPromotion}):i.a.createElement(h,{didAnswer:r,questionNum:a,onClickNext:this.handleNextQuestion,choosenQuiz:n,onClickAnswer:this.handleChooseAnswer,sQuestion:s,selectedAnswer:o,userQuizData:u}):i.a.createElement(g,{quizzes:t,onClick:this.handleChooseQuiz,loggedUser:m}))}}]),t}(a.Component),E=function(e){return i.a.createElement("div",{className:"start",id:"start"},i.a.createElement("div",{className:"start__triangle start__triangle--left ".concat(e.lTriangle)}),i.a.createElement("button",{className:"start__circle ".concat(e.circle),onClick:e.onClick,onAnimationEnd:e.onAnimationEnd},i.a.createElement("h1",{className:"start__title"},"Kweez")),i.a.createElement("div",{className:"start__triangle start__triangle--right ".concat(e.rTriangle)}))},_=function(e){var t=e.inputLogin,n=e.inputPass;return i.a.createElement("form",{className:"loginForm",onSubmit:function(a){return e.onSubmit(a,t,n)}},i.a.createElement("input",{type:"text",className:"loginForm__input",value:t,placeholder:"Login",onChange:e.onChange,name:"login"}),i.a.createElement("input",{type:"password",className:"loginForm__input",value:n,placeholder:"Password",onChange:e.onChange,name:"pass"}),i.a.createElement("button",{className:"loginForm__button",type:"submit"},"LOG IN"),i.a.createElement("button",{className:"loginForm__button loginForm__button--register",onClick:e.onRegisterClick},"REGISTER"),!!e.loginError&&i.a.createElement("div",{className:"loginForm__error"},"Nazwa u\u017cytkownika lub has\u0142o nieprawid\u0142owe"))},w=function(e){var t=e.inputLogin,n=e.inputPass,a=e.inputEmail;return i.a.createElement("form",{className:"loginForm",onSubmit:e.onSubmit},i.a.createElement("input",{type:"text",className:"loginForm__input",value:t,placeholder:"Login",onChange:e.onChange,name:"login"}),i.a.createElement("input",{type:"password",className:"loginForm__input",value:n,placeholder:"Password",onChange:e.onChange,name:"pass"}),i.a.createElement("input",{type:"text",className:"loginForm__input",value:a,placeholder:"E-mail",onChange:e.onChange,name:"email"}),i.a.createElement("button",{className:"loginForm__button loginForm__button--register",type:"submit"},"REGISTER"),i.a.createElement("button",{className:"loginForm__button loginForm__button--back",onClick:e.onBackClick},"BACK"))},A=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={inputLogin:"",inputPass:"",inputEmail:"",register:!1,rightTestLogin:"dawid",rightTestPass:"placki"},n.handleChange=function(e){"login"===e.target.name?n.setState({inputLogin:e.target.value}):"pass"===e.target.name?n.setState({inputPass:e.target.value}):"email"===e.target.name&&n.setState({inputEmail:e.target.value})},n.handleRegisterFormShow=function(){n.setState({register:!n.state.register,inputLogin:"",inputPass:""}),n.props.handleLoginError()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.inputLogin,n=e.inputPass,a=e.inputEmail;return i.a.createElement("main",{className:"main"},this.state.register?i.a.createElement(w,{inputLogin:t,inputPass:n,inputEmail:a,onChange:this.handleChange,onBackClick:this.handleRegisterFormShow,onSubmit:this.props.onRegisterSubmit}):i.a.createElement(_,{inputLogin:t,inputPass:n,onChange:this.handleChange,onRegisterClick:this.handleRegisterFormShow,onSubmit:this.props.onLoginSubmit,loginError:this.props.loginError}))}}]),t}(a.Component),v=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={menuAnim:"",leftTriangleAnim:"",rightTriangleAnim:"",circleAnim:"",animEnd:!1,isLogged:!1,loginError:!1,users:null,loggedUser:null},n.handleShowNavigation=function(){"menuAnimIn"===n.state.menuAnim?n.setState({menuAnim:"menuAnimOut"}):n.setState({menuAnim:"menuAnimIn"})},n.handleStart=function(){n.setState(function(e){return{leftTriangleAnim:"animated slideOutUp",rightTriangleAnim:"animated slideOutDown",circleAnim:"animated bounceOut"}})},n.handleChangeOnAnim=function(){n.setState(function(e){return{animEnd:!0}})},n.handleLoginSubmit=function(e,t,a){t=t.toLowerCase(),e.preventDefault();var i=Object(o.a)(n.state.users).filter(function(e){return e.username===t&&e.password===a});1!==i.length?n.setState(function(e){return{loginError:!0}}):i[0].username===t&&i[0].password===a&&n.setState(function(e){return{isLogged:!e.isLogged,loggedUser:i[0]}})},n.handleRegisterSubmit=function(e){e.preventDefault(),n.setState({loginError:!1})},n.handleLoginError=function(){n.setState({loginError:!1})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("data/users.json").then(function(e){return e.json()}).then(function(t){return e.setState({users:t})})}},{key:"render",value:function(){var e=this.state,t=(e.menuAnim,e.leftTriangleAnim),n=e.rightTriangleAnim,a=e.circleAnim,r=e.isLogged,s=e.loggedUser;return i.a.createElement(i.a.Fragment,null,!this.state.animEnd&&i.a.createElement(E,{lTriangle:t,rTriangle:n,circle:a,onClick:this.handleStart,onAnimationEnd:this.handleChangeOnAnim}),r?i.a.createElement(p,{loggedUser:s}):i.a.createElement(A,{onLoginSubmit:this.handleLoginSubmit,loginError:this.state.loginError,onRegisterSubmit:this.handleRegisterSubmit,handleLoginError:this.handleLoginError}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.a4661e68.chunk.js.map